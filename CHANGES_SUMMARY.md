# üìã –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è #3

## üéØ –¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è
–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ JSON —Ñ–∞–π–ª–µ –∫ PostgreSQL –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Sequelize ORM.

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ `sequelize` - ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `pg` - –¥—Ä–∞–π–≤–µ—Ä PostgreSQL –¥–ª—è Node.js
- ‚úÖ `pg-hstore` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ hstore —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `config/` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ë–î
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `models/` –¥–ª—è –º–æ–¥–µ–ª–µ–π Sequelize
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞–ø–æ–∫

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `config/database.js` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- ‚úÖ `config/initDB.js` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ë–î
- ‚úÖ `config/database.example.js` - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 4. –ú–æ–¥–µ–ª—å Contact
- ‚úÖ `models/Contact.js` - Sequelize –º–æ–¥–µ–ª—å —Å –ø–æ–ª—è–º–∏:
  - `name` (STRING, NOT NULL)
  - `email` (STRING, NOT NULL)
  - `phone` (STRING, NOT NULL)
  - `favorite` (BOOLEAN, DEFAULT FALSE)
  - `createdAt`, `updatedAt` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ `services/contactsServices.js` - –≤—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ Sequelize:
  - `listContacts()` ‚Üí `Contact.findAll()`
  - `getContactById(id)` ‚Üí `Contact.findByPk(id)`
  - `removeContact(id)` ‚Üí `Contact.destroy()`
  - `addContact(data)` ‚Üí `Contact.create(data)`
  - `updateContact(id, changes)` ‚Üí `Contact.update()`
  - `updateStatusContact(id, {favorite})` ‚Üí –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥

### 6. –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ `PATCH /api/contacts/:contactId/favorite` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ favorite
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `updateStatusContactController`
- ‚úÖ –°–µ—Ä–≤–∏—Å `updateStatusContact`

### 7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `updateStatusContact`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞

### 8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ä–æ—É—Ç –¥–ª—è PATCH –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–æ—É—Ç–∞

### 9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ `updateStatusContactSchema` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—è favorite

### 10. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚úÖ `app.js` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

### 11. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `RENDER_SETUP.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Render
- ‚úÖ `PGADMIN_SETUP.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ pgAdmin
- ‚úÖ `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ `db/create_table.sql` - SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã

### 12. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `test-db.js` - —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

## üîÑ –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö

### `package.json`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `sequelize`, `pg`, `pg-hstore`

### `services/contactsServices.js`
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Sequelize
- –£–±—Ä–∞–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `fs`, `path`, `nanoid`
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –º–æ–¥–µ–ª–∏ `Contact`

### `controllers/contactsControllers.js`
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `updateStatusContact`
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `updateStatusContactController`

### `routes/contactsRouter.js`
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `updateStatusContactController`
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ä–æ—É—Ç `PATCH /:contactId/favorite`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–æ—É—Ç–∞

### `schemas/contactsSchemas.js`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ `updateStatusContactSchema`

### `app.js`
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `initDatabase`
- –ó–∞–º–µ–Ω–µ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î

## üóÇÔ∏è –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

```
config/
‚îú‚îÄ‚îÄ database.js          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îú‚îÄ‚îÄ database.example.js  # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ initDB.js           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î

models/
‚îî‚îÄ‚îÄ Contact.js          # Sequelize –º–æ–¥–µ–ª—å

db/
‚îî‚îÄ‚îÄ create_table.sql    # SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã

*.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
test-db.js             # –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** (—Å–ª–µ–¥—É–π—Ç–µ `RENDER_SETUP.md` –∏–ª–∏ `QUICK_START.md`)
2. **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –≤ `config/database.js`
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: `node test-db.js`
4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: `npm run dev`

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –î–ó

- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –≤–µ—Ç–∫–∞ `03-postgresql`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pgAdmin/DBeaver
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Render
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Sequelize
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç—Å—è "Database connection successful"
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å `process.exit(1)`
- ‚úÖ –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ Sequelize
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ä–æ—É—Ç `PATCH /:contactId/favorite`
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `updateStatusContact` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å 200 –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, 404 –ø—Ä–∏ –æ—à–∏–±–∫–µ

## üìä –û—Ü–µ–Ω–∫–∞ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º

- **–ö—Ä–æ–∫ 2** (10 –±–∞–ª–ª–æ–≤): ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pgAdmin + –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ + —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
- **–ö—Ä–æ–∫ 3** (75 –±–∞–ª–ª–æ–≤): ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ + –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ + –≤—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ö—Ä–æ–∫ 4** (15 –±–∞–ª–ª–æ–≤): ‚úÖ –ù–æ–≤—ã–π —Ä–æ—É—Ç + —Ñ—É–Ω–∫—Ü–∏—è + –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ò—Ç–æ–≥–æ: 100/100 –±–∞–ª–ª–æ–≤** üéâ

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Render
2. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –î–ó –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –º–µ–Ω—Ç–æ—Ä—É

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Å–¥–∞—á–µ! üöÄ
